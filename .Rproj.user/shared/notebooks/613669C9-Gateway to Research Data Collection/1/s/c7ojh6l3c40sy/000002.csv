"0","project_df <- read.csv(""../data/projectsearch-data.csv"")"
"0",""
"0","# clean column names up"
"0","project_df %<>%"
"0","  clean_names() %>% "
"0","  rename("
"0","    pi_orcid_id = pi_orcid_i_d ,"
"0","    student_orcid_id = student_orcid_i_d,"
"0","  )"
"0",""
"0","# add abstract column"
"0","project_df %<>% "
"0","  add_column(abstract = NA) %>% "
"0","  mutate(across(abstract, as.character))"
"0",""
"0","# Change blank strings to NAs"
"0","project_df %<>% "
"0","  mutate_if(is.character, list(~na_if(.,"""")))"
"0",""
"0","# Combine PI and Student columns and drop"
"0","project_df %<>% "
"0","  mutate("
"0","    pi_surname = coalesce(pi_surname, student_surname),"
"0","    pi_first_name = coalesce(pi_first_name, student_first_name),"
"0","    pi_other_names = coalesce(pi_other_names, student_other_names),"
"0","    pi_orcid_id = coalesce(pi_orcid_id, student_orcid_id),"
"0","  ) %>%"
"0","  select(!c("
"0","    student_surname,"
"0","    student_first_name,"
"0","    student_other_names,"
"0","    student_orcid_id"
"0","  ))"
"0",""
