"0","extract_table <- function(html, css_selector, head_row = FALSE, log_on = TRUE){"
"0","  out <- tryCatch("
"0","    {"
"0","      element <- html %>% "
"0","        html_element(css_selector)"
"0","      "
"0","      if (length(element) > 0) {"
"0","        html_out <- element %>% html_table(header = head_row) %>% clean_names()"
"0","        "
"0","        if (log_on) {"
"0","          log_print("
"0","            str_glue(""Successfully extracted {css_selector} table""), "
"0","            console = FALSE, "
"0","            hide_notes = TRUE"
"0","          )"
"0","        }"
"0","      } else {"
"0","        html_out <- tibble()"
"0","        "
"0","        if (log_on) {"
"0","          log_print("
"0","            str_glue(""{css_selector} not detected.""), "
"0","            console = FALSE, "
"0","            hide_notes = TRUE"
"0","          )"
"0","        }"
"0","      }"
"0","      "
"0","      html_out"
"0","      "
"0","    },"
"0","    error=function(cond){"
"0","      if (log_on) {"
"0","        log_print("
"0","          str_glue(""Error occured when extracting {css_selector} table. \n{cond}""), "
"0","          console = FALSE, "
"0","          hide_notes = TRUE"
"0","        )"
"0","      }"
"0","      return(tibble())"
"0","    }"
"0","  )"
"0","  return(out)"
"0","}"
"0",""
"0","extract_elements <- function(html, css_selector, attr = ""text"", log_on = TRUE){"
"0","  out <- tryCatch("
"0","    {"
"0","      element <- html %>% "
"0","        html_element(css_selector)"
"0","      "
"0","      if (length(element) > 0) {"
"0","        if (attr == ""text"") {"
"0","          out <- element %>% "
"0","            html_text(trim = TRUE) "
"0","        } else {"
"0","          out <- element %>%"
"0","            html_attr(attr)"
"0","        }"
"0","        "
"0","        # Detect if logging is on for this function (on by default)"
"0","        if (log_on) {"
"0","          log_print("
"0","            str_glue(""Successfully extracted '{css_selector}' element's '{attr}' attributes""), "
"0","            console = FALSE, "
"0","            hide_notes = TRUE"
"0","          )"
"0","        }"
"0","        "
"0","      } else {"
"0","        out <- list()"
"0","        "
"0","        # Detect if logging is on for this function (on by default)"
"0","        if (log_on) {"
"0","          log_print("
"0","            str_glue(""'{css_selector}' element's '{attr}' attributes not detected.""), "
"0","            console = FALSE, "
"0","            hide_notes = TRUE"
"0","          )"
"0","        }"
"0","      }"
"0","      # The trycatch returns the last expression so we need to ensure that it is returned"
"0","      out"
"0","    },"
"0","    error=function(cond){"
"0","      if (log_on) {"
"0","        log_print("
"0","          str_glue(""Error occured when extracting '{css_selector}' element's '{attr}' attributes.\n{cond}""), "
"0","          console = FALSE,"
"0","          hide_notes = TRUE"
"0","        )"
"0","      }"
"0","      return(list())"
"0","    }"
"0","  )"
"0","  return(out)"
"0","}"
